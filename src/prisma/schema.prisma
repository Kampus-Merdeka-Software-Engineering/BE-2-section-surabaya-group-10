generator client {
  provider      = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model booking {
  id        Int      @id @default(autoincrement())
  checkIn   DateTime
  checkOut  DateTime
  roomType  String
  guests    Int
  price     Float
  createdAt DateTime @default(now())
  updatedAt DateTime
  postId    Int
  post      post     @relation(fields: [postId], references: [id], onDelete: Cascade, map: "Booking_postId_fkey")

  @@index([postId], map: "Booking_postId_fkey")
}

model email {
  id    Int    @id @default(autoincrement())
  email String @unique(map: "Email_email_key")
}

model facility {
  id     Int    @id @default(autoincrement())
  postId Int
  name   String
  post   post   @relation(fields: [postId], references: [id], onDelete: Cascade, map: "Facility_postId_fkey")

  @@index([postId], map: "Facility_postId_fkey")
}

model image {
  id     Int    @id @default(autoincrement())
  postId Int
  url    String
  post   post   @relation(fields: [postId], references: [id], onDelete: Cascade, map: "Image_postId_fkey")

  @@index([postId], map: "Image_postId_fkey")
}

model post {
  id          Int        @id @default(autoincrement())
  name        String
  description String
  location    String
  city        String
  price       Float
  link        String
  createdAt   DateTime   @default(now())
  updatedAt   DateTime
  booking     booking[]
  facility    facility[]
  image       image[]
}
